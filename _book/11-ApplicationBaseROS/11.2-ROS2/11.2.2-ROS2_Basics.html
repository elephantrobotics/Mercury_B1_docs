
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>2 ROS2 Basics Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-chapter-fold/chapter-fold.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-password-z/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-theme-fexa/fexa.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="11.2.3-Rviz2Introduction.html" />
    
    
    <link rel="prev" href="11.2.1-EnvironmentBuilding.html" />
    

    </head>
    <body>
        
<div class="book">
	<div class="header-inner">
		<!-- LOGO -->
		<div class="logo"></div>
		<span class="title"></span>

		<!-- Search -->
		
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>


		<!-- Nav -->
		<ul class="header-nav">
			
		</ul>
	</div>

	<div class="book-summary">
		<div class="book-summary-title">Catalogue</div>
		
		
		<nav role="navigation">
			


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../1-ProductIntroduction/">
            
                <a href="../../1-ProductIntroduction/">
            
                    
                    1 Product Introduction
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../../1-ProductIntroduction/1.1-DesignPhilosophy.html">
            
                <a href="../../1-ProductIntroduction/1.1-DesignPhilosophy.html">
            
                    
                    1.1 Design Philosophy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../../1-ProductIntroduction/1.2-ApplicationScenario.html">
            
                <a href="../../1-ProductIntroduction/1.2-ApplicationScenario.html">
            
                    
                    1.2 Application Scenario
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../../2-ProductFeature/">
            
                <a href="../../2-ProductFeature/">
            
                    
                    2 Product Feature
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../../2-ProductFeature/2.1-MachineSpecification.html">
            
                <a href="../../2-ProductFeature/2.1-MachineSpecification.html">
            
                    
                    2.1 Functional Parameters
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../../2-ProductFeature/2.2-ControlCoreParameter.html">
            
                <a href="../../2-ProductFeature/2.2-ControlCoreParameter.html">
            
                    
                    2.2 Controller Parameters
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../../2-ProductFeature/2.3-MechanicalStructureParameter.html">
            
                <a href="../../2-ProductFeature/2.3-MechanicalStructureParameter.html">
            
                    
                    2.3 Structural Parameters
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../../2-ProductFeature/2.4-ElectricalCharacteristicParameter.html">
            
                <a href="../../2-ProductFeature/2.4-ElectricalCharacteristicParameter.html">
            
                    
                    2.4 Electronic Parameters
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../../3-UserNotes/">
            
                <a href="../../3-UserNotes/">
            
                    
                    3 User Notes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../../3-UserNotes/3.1-SafetyInstruction.html">
            
                <a href="../../3-UserNotes/3.1-SafetyInstruction.html">
            
                    
                    3.1 Safety Instructions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../../3-UserNotes/3.2-TransportandStorage.html">
            
                <a href="../../3-UserNotes/3.2-TransportandStorage.html">
            
                    
                    3.2 Transport and Storage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../../3-UserNotes/3.3-MaintenanceandCare.html">
            
                <a href="../../3-UserNotes/3.3-MaintenanceandCare.html">
            
                    
                    3.3 Maintenance and Care
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../../3-UserNotes/3.4-FAQsandSolutions.html">
            
                <a href="../../3-UserNotes/3.4-FAQsandSolutions.html">
            
                    
                    3.4 FAQs
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.4.1" data-path="../../3-UserNotes/IssueFAQ/how_to_ask.html">
            
                <a href="../../3-UserNotes/IssueFAQ/how_to_ask.html">
            
                    
                    1 How To Ask Questions Gracefully
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4.2" data-path="../../3-UserNotes/IssueFAQ/driver.html">
            
                <a href="../../3-UserNotes/IssueFAQ/driver.html">
            
                    
                    2 Drive Related
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4.3" data-path="../../3-UserNotes/IssueFAQ/software.html">
            
                <a href="../../3-UserNotes/IssueFAQ/software.html">
            
                    
                    3 Software Problem
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4.4" data-path="../../3-UserNotes/IssueFAQ/hardware.html">
            
                <a href="../../3-UserNotes/IssueFAQ/hardware.html">
            
                    
                    4 Hardware Problem
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../../4-FirstInstallAndUse/">
            
                <a href="../../4-FirstInstallAndUse/">
            
                    
                    4 First Install and Use
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../../4-FirstInstallAndUse/4-FirstInstallAndUse.html">
            
                <a href="../../4-FirstInstallAndUse/4-FirstInstallAndUse.html">
            
                    
                    4.1 Product Standard List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../../4-FirstInstallAndUse/4.2-ProductUnboxingGuide.html">
            
                <a href="../../4-FirstInstallAndUse/4.2-ProductUnboxingGuide.html">
            
                    
                    4.2 Product Unboxing Guide
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../../4-FirstInstallAndUse/4.3-Power-onTestGuide.html">
            
                <a href="../../4-FirstInstallAndUse/4.3-Power-onTestGuide.html">
            
                    
                    4.3 Power-on Test Guide
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../../6-SDKDevelopment/">
            
                <a href="../../6-SDKDevelopment/">
            
                    
                    5 SDK Development
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="../../6-SDKDevelopment/6.1-ApplicationBasePython.html">
            
                <a href="../../6-SDKDevelopment/6.1-ApplicationBasePython.html">
            
                    
                    5.1 Python
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1.1" data-path="../../6-SDKDevelopment/6.1-Python/6.1.1-EnvironmentConfiguration.html">
            
                <a href="../../6-SDKDevelopment/6.1-Python/6.1.1-EnvironmentConfiguration.html">
            
                    
                    1 Environment Building
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.2" data-path="../../6-SDKDevelopment/6.1-Python/6.1.2-ApplicationBasePython.html">
            
                <a href="../../6-SDKDevelopment/6.1-Python/6.1.2-ApplicationBasePython.html">
            
                    
                    2 Introduction to API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.3" data-path="../../10-ApplicationBasePython/10.3-PythonDemo.html">
            
                <a href="../../10-ApplicationBasePython/10.3-PythonDemo.html">
            
                    
                    3 python demo
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.4" data-path="../../6-SDKDevelopment/6.1-Python/61.4-Drag_teach.html">
            
                <a href="../../6-SDKDevelopment/6.1-Python/61.4-Drag_teach.html">
            
                    
                    3 Drag to teach
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.5" data-path="../../6-SDKDevelopment/6.1-Python/6.1.3-PythonDemo.html">
            
                <a href="../../6-SDKDevelopment/6.1-Python/6.1.3-PythonDemo.html">
            
                    
                    4 Use Cases
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="../11.1-ROS1/">
            
                <a href="../11.1-ROS1/">
            
                    
                    5.2 ROS1
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.2.1" data-path="../11.1-ROS1/11.1.1-EnvironmentBuilding.html">
            
                <a href="../11.1-ROS1/11.1.1-EnvironmentBuilding.html">
            
                    
                    1 Environment Building
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.2" data-path="../11.1-ROS1/11.1.2-ROS_Basics.html">
            
                <a href="../11.1-ROS1/11.1.2-ROS_Basics.html">
            
                    
                    2 ROS Basics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.3" data-path="../11.1-ROS1/11.1.3-RvizIntroduction.html">
            
                <a href="../11.1-ROS1/11.1.3-RvizIntroduction.html">
            
                    
                    3 Rviz usage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.4" data-path="../11.1-ROS1/11.1.4-BasicFunction.html">
            
                <a href="../11.1-ROS1/11.1.4-BasicFunction.html">
            
                    
                    4 Basic Function Case
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="./">
            
                <a href="./">
            
                    
                    5.3 ROS2
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.3.1" data-path="11.2.1-EnvironmentBuilding.html">
            
                <a href="11.2.1-EnvironmentBuilding.html">
            
                    
                    1 Environment Building
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="2.1.3.2" data-path="11.2.2-ROS2_Basics.html">
            
                <a href="11.2.2-ROS2_Basics.html">
            
                    
                    2 ROS2 Basics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.3" data-path="11.2.3-Rviz2Introduction.html">
            
                <a href="11.2.3-Rviz2Introduction.html">
            
                    
                    3 Rviz2 usage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.4" data-path="11.2.4-BasicFunction.html">
            
                <a href="11.2.4-BasicFunction.html">
            
                    
                    4 Basic Function Case
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../../7-ExamplesRobotsUsing/7-ExamplesRobotsUsing.html">
            
                <a href="../../7-ExamplesRobotsUsing/7-ExamplesRobotsUsing.html">
            
                    
                    6 Examples of Robots Using
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../../9-AboutUs/">
            
                <a href="../../9-AboutUs/">
            
                    
                    7 About Us
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" data-path="../../9-AboutUs/9.1-company.html">
            
                <a href="../../9-AboutUs/9.1-company.html">
            
                    
                    7.1 Elephant Robotics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2" data-path="../../9-AboutUs/9.2-contact.html">
            
                <a href="../../9-AboutUs/9.2-contact.html">
            
                    
                    7.2 Contact us
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


		</nav>
		
		
	</div>

	<!-- Content nav -->
	<div class="book-anchor">
		<div class="book-anchor-title">In this Chapter:</div>
		<div class="book-anchor-body">

		</div>
	</div>

	<div class="book-body">
		
		<div class="body-inner">
			
			

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >2 ROS2 Basics</a>
    </h1>
</div>




			<div class="page-wrapper" tabindex="-1" role="main">
				<div class="page-inner">
					
<div id="book-search-results">
    <div class="search-noresults">
    
					<section class="normal markdown-section">
						
						<h1 id="1-ros2-project-structure">1 ROS2 project structure</h1>
<h2 id="11-colcon-workspace">1.1 colcon workspace</h2>
<p>The colocn workspace is the directory where software packages are created, modified, and compiled. Colcon&apos;s workspace can be intuitively described as a warehouse, which contains various ROS project projects to facilitate system organization, management and calling.</p>
<ul>
<li><strong>Create workspace</strong>:</li>
</ul>
<pre><code class="lang-bash">mkdir -p ~/colcon_ws/src <span class="hljs-comment"># Create folder</span>
<span class="hljs-built_in">cd</span> ~/colcon_ws/ <span class="hljs-comment"># Enter the folder</span>
colcon build <span class="hljs-comment"># Build the code in the workspace.</span>
</code></pre>
<p><strong>Note:</strong> colcon supports option <code>--symlink-install</code>. This allows for faster iteration by changing installed files by changing files in the source space (such as Python files or other uncompiled resources). Avoid the need to recompile every time you modify your python script.</p>
<pre><code class="lang-bash">colcon build --symlink-install
</code></pre>
<p>A ROS workspace is a directory with a particular structure. Commonly there is a <code>src</code> subdirectory. Inside that subdirectory is where the source code of ROS packages will be located. Typically the directory starts otherwise empty.</p>
<p>colcon does out of source builds. By default it will create the following directories as peers of the <code>src</code> directory:</p>
<pre><code class="lang-bash">src/: colcon package <span class="hljs-keyword">for</span> ROS2 (<span class="hljs-built_in">source</span> code package)

build/: The location <span class="hljs-built_in">where</span> intermediate files are stored. For each package, a subfolder is created <span class="hljs-keyword">in</span> <span class="hljs-built_in">which</span> CMake is called, <span class="hljs-keyword">for</span> example.

install/: The installation location of each package. By default, each package will be installed into a separate subdirectory.

<span class="hljs-built_in">log</span>/: Contains various logging information about each colcon call.
</code></pre>
<p>The directory structure of a ROS2 workspace is as follows:</p>
<pre><code class="lang-bash">WorkSpace --- Customized workspace.
     |--- build: The directory <span class="hljs-built_in">where</span> intermediate files are stored. A separate subdirectory will be created <span class="hljs-keyword">for</span> each <span class="hljs-keyword">function</span> package <span class="hljs-keyword">in</span> this directory.
     |--- install: Installation directory, a separate subdirectory will be created <span class="hljs-keyword">for</span> each <span class="hljs-keyword">function</span> package <span class="hljs-keyword">in</span> this directory.
     |--- <span class="hljs-built_in">log</span>: Log directory, used to store <span class="hljs-built_in">log</span> files.
     |--- src: Directory used to store <span class="hljs-keyword">function</span> package <span class="hljs-built_in">source</span> code.
         |-- C++ <span class="hljs-keyword">function</span> package
             |-- package.xml: package information, such as: package name, version, author, dependencies.
             |-- CMakeLists.txt: Configure compilation rules, such as <span class="hljs-built_in">source</span> files, dependencies, and target files.
             |-- src: C++ <span class="hljs-built_in">source</span> file directory.
             |-- include: header file directory.
             |-- msg: message interface file directory.
             |-- srv: Service interface file directory.
             |-- action: action interface file directory.
         |-- Python <span class="hljs-keyword">function</span> package
             |-- package.xml: package information, such as: package name, version, author, dependencies.
             |-- setup.py: similar to CMakeLists.txt of C++ <span class="hljs-keyword">function</span> package.
             |-- setup.cfg: Function package basic configuration file.
             |-- resource: resource directory.
             |-- <span class="hljs-built_in">test</span>: stores <span class="hljs-built_in">test</span>-related files.
             |-- Directory with the same name of the <span class="hljs-keyword">function</span> package: Python <span class="hljs-built_in">source</span> file directory.
</code></pre>
<h2 id="12-ros2-package">1.2 ROS2 package</h2>
<p>Package is not only a software package on Linux, but also the basic unit of colcon compilation. The object we use <code>colcon build</code> to compile is each ROS2 package.</p>
<p><strong>Create your own package:</strong></p>
<ul>
<li>The command syntax for creating a software package using Python is:</li>
</ul>
<pre><code class="lang-bash">ros2 pkg create --build-type ament_python &lt;package_name&gt;
</code></pre>
<ul>
<li>For example:</li>
</ul>
<pre><code class="lang-bash">ros2 pkg create --build-type ament_python --node-name my_node my_package
</code></pre>
<h1 id="2-basic-tool-commands">2 Basic tool commands</h1>
<p>In this chapter, you will learn about the common command tools of ROS2.</p>
<h2 id="21-topics">2.1 Topics</h2>
<p>ROS 2 breaks complex systems down into many modular nodes. Topics are a vital element of the ROS graph that act as a bus for nodes to exchange messages.
Topics are one of the main ways in which data is moved between nodes and therefore between different parts of the system.</p>
<p>Specific reference: <a href="https://docs.ros.org/en/foxy/Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Topics/Understanding-ROS2-Topics.html" target="_blank">Official Tutorials</a></p>
<ul>
<li><strong>topics help</strong></li>
</ul>
<pre><code class="lang-bash">ros2 topics -h
</code></pre>
<ul>
<li><strong>Start turtlesim and keyboard control</strong></li>
</ul>
<pre><code class="lang-bash">ros2 run turtlesim turtlesim_node
ros2 run turtlesim turtle_teleop_key
</code></pre>
<ul>
<li><strong>Node Relationship Diagram</strong></li>
</ul>
<pre><code class="lang-bash">rqt_graph
</code></pre>
<ul>
<li><strong>Learn about topic-related commands</strong></li>
</ul>
<pre><code class="lang-bash">ros2 topics -h
</code></pre>
<ul>
<li><strong>topics list</strong></li>
</ul>
<pre><code class="lang-bash">ros2 topic list
ros2 topic list -t <span class="hljs-comment"># Display the corresponding message type</span>
</code></pre>
<ul>
<li><strong>View topic content</strong></li>
</ul>
<pre><code class="lang-bash">ros2 topic <span class="hljs-built_in">echo</span> &lt;topic_name&gt;
ros2 topic <span class="hljs-built_in">echo</span> /turtle1/cmd_vel
</code></pre>
<ul>
<li><strong>Display topic-related information, type</strong></li>
</ul>
<pre><code class="lang-bash">ros2 topic info &lt;topic_name&gt;
<span class="hljs-comment"># Output /turtle1/cmd_vel topic related information</span>
ros2 topic info /turtle1/cmd_vel
</code></pre>
<ul>
<li><strong>Display interface related information</strong></li>
</ul>
<pre><code class="lang-bash">ros2 interface show &lt;msg_<span class="hljs-built_in">type</span>&gt;
<span class="hljs-comment"># Output geometry_msgs/msg/Twist interface related information</span>
ros2 interface show geometry_msgs/msg/Twist
</code></pre>
<ul>
<li><strong>Issue an order</strong></li>
</ul>
<pre><code class="lang-bash">ros2 topic pub &lt;topic_name&gt; &lt;msg_<span class="hljs-built_in">type</span>&gt; <span class="hljs-string">&apos;&lt;args&gt;&apos;</span> 
<span class="hljs-comment"># Issue speed command</span>
ros2 topic pub --once /turtle1/cmd_vel geometry_msgs/msg/Twist <span class="hljs-string">&quot;{linear: {x: 2.0, y: 0.0, z: 0.0}, angular: {x: 0.0, y: 0.0, z: 1.8}}&quot;</span>
<span class="hljs-comment"># Issue speed commands at a certain frequency</span>
ros2 topic pub --rate 1 /turtle1/cmd_vel geometry_msgs/msg/Twist <span class="hljs-string">&quot;{linear: {x: 2.0, y: 0.0, z: 0.0}, angular: {x: 0.0, y: 0.0, z: 1.8}}&quot;</span>
</code></pre>
<ul>
<li><strong>See how often topics are posted</strong></li>
</ul>
<pre><code class="lang-bash">ros2 topic hz &lt;topic_name&gt;
<span class="hljs-comment"># Output /turtle1/cmd_vel publish frequency</span>
ros2 topic pub --rate 1 /turtle1/cmd_vel geometry_msgs/msg/Twist <span class="hljs-string">&quot;{linear: {x: 2.0, y: 0.0, z: 0.0}, angular: {x: 0.0, y: 0.0, z: 1.8}}&quot;</span>
</code></pre>
<h2 id="22-nodes">2.2 Nodes</h2>
<p>Each node in ROS should be responsible for a single, module purpose (e.g. one node for controlling wheel motors, one node for controlling a laser range-finder, etc). Each node can send and receive data to other nodes via topics, services, actions, or parameters.
A full robotic system is comprised of many nodes working in concert. In ROS 2, a single executable (C++ program, Python program, etc.) can contain one or more nodes.</p>
<p>Specific reference: <a href="https://docs.ros.org/en/foxy/Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Nodes/Understanding-ROS2-Nodes.html" target="_blank">Official Tutorials</a></p>
<ul>
<li><strong>nodes help</strong></li>
</ul>
<pre><code class="lang-bash">ros2 nodes -h
</code></pre>
<ul>
<li><strong>Start turtlesim and keyboard control</strong></li>
</ul>
<pre><code class="lang-bash">ros2 run turtlesim turtlesim_node
ros2 run turtlesim turtle_teleop_key
</code></pre>
<ul>
<li><strong>View the node list</strong></li>
</ul>
<pre><code class="lang-bash">ros2 node list
</code></pre>
<ul>
<li><strong>View Node Relationship Diagram</strong></li>
</ul>
<pre><code class="lang-bash">rqt_graph
</code></pre>
<ul>
<li><strong>Remapping</strong></li>
</ul>
<pre><code class="lang-bash">ros2 run turtlesim turtlesim_node --ros-args --remap __node:=my_turtle
ros2 node list
</code></pre>
<ul>
<li><strong>View node information</strong></li>
</ul>
<pre><code class="lang-bash">ros2 node info &lt;node_name&gt;
ros2 node info /my_turtle
</code></pre>
<h2 id="23-services">2.3 Services</h2>
<p>Services are another method of communication for nodes in the ROS graph. Services are based on a call-and-response model, versus topics&#x2019; publisher-subscriber model. While topics allow nodes to subscribe to data streams and get continual updates, services only provide data when they are specifically called by a client.</p>
<p>Specific reference: <a href="https://docs.ros.org/en/foxy/Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Services/Understanding-ROS2-Services.html" target="_blank">Official Tutorials</a></p>
<ul>
<li><strong>services help</strong></li>
</ul>
<pre><code class="lang-bash">ros2 service -h
</code></pre>
<ul>
<li><strong>Start turtlesim and keyboard control</strong></li>
</ul>
<pre><code class="lang-bash">ros2 run turtlesim turtlesim_node
ros2 run turtlesim turtle_teleop_key
</code></pre>
<ul>
<li><strong>View the service list</strong></li>
</ul>
<pre><code class="lang-bash">ros2 service list
<span class="hljs-comment"># Display service list and message type</span>
ros2 service list -t
</code></pre>
<ul>
<li><strong>View the message types received by the service</strong></li>
</ul>
<pre><code class="lang-bash">ros2 service <span class="hljs-built_in">type</span> &lt;service_name&gt;
ros2 service <span class="hljs-built_in">type</span> /clear
</code></pre>
<ul>
<li><strong>Find services that use a certain message type</strong></li>
</ul>
<pre><code class="lang-bash">ros2 service find &lt;<span class="hljs-built_in">type</span>_name&gt;
ros2 service find std_srvs/srv/Empty
</code></pre>
<ul>
<li><strong>View Service Message Type Definitions</strong></li>
</ul>
<pre><code class="lang-bash">ros2 interface show &lt;<span class="hljs-built_in">type</span>_name&gt;.srv
ros2 interface show std_srvs/srv/Empty.srv
</code></pre>
<ul>
<li><strong>Call the service command to clear the walking track</strong></li>
</ul>
<pre><code class="lang-bash">ros2 service call &lt;service_name&gt; &lt;service_<span class="hljs-built_in">type</span>&gt;
ros2 service call /clear std_srvs/srv/Empty
</code></pre>
<ul>
<li><strong>Spawn a new turtle</strong></li>
</ul>
<pre><code class="lang-bash">ros2 service call /spawn turtlesim/srv/Spawn <span class="hljs-string">&quot;{x: 2, y: 2, theta: 0.2, name: &apos;turtle2&apos;}&quot;</span>
</code></pre>
<h2 id="24-parameters">2.4 Parameters</h2>
<p>A parameter is a configuration value of a node. You can think of parameters as node settings. A node can store parameters as integers, floats, booleans, strings, and lists. In ROS 2, each node maintains its own parameters. For more background on parameters, please see the concept document.</p>
<p>Specific reference: <a href="https://docs.ros.org/en/foxy/Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Parameters/Understanding-ROS2-Parameters.html" target="_blank">Official Tutorials</a></p>
<ul>
<li><strong>parameters help</strong></li>
</ul>
<pre><code class="lang-bash">ros2 param -h
</code></pre>
<ul>
<li><strong>Start turtlesim and keyboard control</strong></li>
</ul>
<pre><code class="lang-bash">ros2 run turtlesim turtlesim_node
ros2 run turtlesim turtle_teleop_key
</code></pre>
<ul>
<li><strong>View service list</strong></li>
</ul>
<pre><code class="lang-bash">ros2 param list
</code></pre>
<ul>
<li><strong>Get the parameter value</strong></li>
</ul>
<pre><code class="lang-bash">ros2 param get &lt;node_name&gt; &lt;parameter_name&gt;
ros2 param get /turtlesim background_g
</code></pre>
<ul>
<li><strong>Set parameter values</strong></li>
</ul>
<pre><code class="lang-bash">ros2 param <span class="hljs-built_in">set</span> &lt;node_name&gt; &lt;parameter_name&gt; &lt;value&gt;
ros2 param <span class="hljs-built_in">set</span> /turtlesim background_r 150
</code></pre>
<ul>
<li><strong>Export parameter values</strong></li>
</ul>
<pre><code class="lang-bash">ros2 param dump &lt;node_name&gt;
ros2 param dump /turtlesim
</code></pre>
<ul>
<li><strong>Import parameters independently</strong></li>
</ul>
<pre><code class="lang-bash">ros2 param load &lt;node_name&gt; &lt;parameter_file&gt;
ros2 param load /turtlesim ./turtlesim.yaml
</code></pre>
<ul>
<li><strong>Start the node and import parameters at the same time</strong></li>
</ul>
<pre><code class="lang-bash">ros2 run &lt;package_name&gt; &lt;executable_name&gt; --ros-args --params-file &lt;file_name&gt;
ros2 run turtlesim turtlesim_node --ros-args --params-file ./turtlesim.yaml
</code></pre>
<h2 id="25-actions">2.5 Actions</h2>
<p>Actions are one of the communication types in ROS 2 and are intended for long running tasks. They consist of three parts: a goal, feedback, and a result.</p>
<p>Actions are built on topics and services. Their functionality is similar to services, except actions are preemptable (you can cancel them while executing). They also provide steady feedback, as opposed to services which return a single response.</p>
<p>Actions use a client-server model, similar to the publisher-subscriber model (described in the topics tutorial). An &#x201C;action client&#x201D; node sends a goal to an &#x201C;action server&#x201D; node that acknowledges the goal and returns a stream of feedback and a result.</p>
<p>Specific reference: <a href="https://docs.ros.org/en/foxy/Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Actions/Understanding-ROS2-Actions.html" target="_blank">Official Tutorials</a></p>
<ul>
<li><strong>action help</strong></li>
</ul>
<pre><code class="lang-bash">ros2 action -h
</code></pre>
<ul>
<li><strong>Start turtlesim and keyboard control</strong></li>
</ul>
<pre><code class="lang-bash">ros2 run turtlesim turtlesim_node
ros2 run turtlesim turtle_teleop_key
</code></pre>
<p>Press G|B|V|C|D|E|R|T to achieve rotation, press F to cancel</p>
<ul>
<li><strong>View the server and client of the node action</strong></li>
</ul>
<pre><code class="lang-bash">ros2 node info /turtlesim
</code></pre>
<ul>
<li><strong>View action list</strong></li>
</ul>
<pre><code class="lang-bash">ros2 action list
ros2 action list -t <span class="hljs-comment"># show action type</span>
</code></pre>
<ul>
<li><strong>view action info</strong></li>
</ul>
<pre><code class="lang-bash">ros2 action info &lt;action&gt;
ros2 action info /turtle1/rotate_absolute
</code></pre>
<ul>
<li><strong>View action message content</strong></li>
</ul>
<pre><code class="lang-bash">ros2 interface show turtlesim/action/RotateAbsolute
</code></pre>
<ul>
<li><strong>Send action target information</strong></li>
</ul>
<pre><code class="lang-bash">ros2 action send_goal &lt;action_name&gt; &lt;action_<span class="hljs-built_in">type</span>&gt;
ros2 action send_goal /turtle1/rotate_absolute turtlesim/action/RotateAbsolute <span class="hljs-string">&quot;{theta: 1.57}&quot;</span>
<span class="hljs-comment"># With feedback information</span>
ros2 action send_goal /turtle1/rotate_absolute turtlesim/action/RotateAbsolute <span class="hljs-string">&quot;{theta: 0}&quot;</span> --feedback
</code></pre>
<h2 id="26-rqt">2.6 RQt</h2>
<p>RQt is a graphical user interface framework that implements various tools and interfaces in the form of plugins. One can run all the existing GUI tools as dockable windows within RQt! The tools can still run in a traditional standalone method, but RQt makes it easier to manage all the various windows in a single screen layout.</p>
<p>Specific reference: <a href="https://docs.ros.org/en/foxy/Concepts/About-RQt.html" target="_blank">Official Tutorials</a></p>
<p>You can run any RQt tools/plugins easily by:</p>
<pre><code class="lang-bash">rqt
</code></pre>
<ul>
<li><strong>rqt help</strong></li>
</ul>
<pre><code class="lang-bash">rqt -h
</code></pre>
<ul>
<li><strong>Start turtlesim and keyboard control</strong></li>
</ul>
<pre><code class="lang-bash">ros2 run turtlesim turtlesim_node
ros2 run turtlesim turtle_teleop_key
</code></pre>
<ul>
<li><p>Action Type Browser: / Plugins -&gt; Actions -&gt;Action Type Browser</p>
</li>
<li><p>parameter reconfiguration: / Plugins -&gt; configuration -&gt;Parameter Reconfigure</p>
</li>
<li><p>Node grap: /Node Graph</p>
</li>
<li><p>control steering: /Plugins -&gt; Robot Tools -&gt; Robot Steering</p>
</li>
<li><p>service invocation: /Plugins -&gt; Services -&gt; Service Caller</p>
</li>
<li><p>Service Type Browser: Plugins -&gt; Services -&gt; Service Type Browser</p>
</li>
<li><p>message release: Plugins -&gt; Topics -&gt; Message Publisher</p>
</li>
<li><p>Message Type Browser: Plugins -&gt; Topics -&gt; Message Type Browser</p>
</li>
<li><p>topic list: Plugins -&gt; Topics -&gt; Topic Monitor</p>
</li>
<li><p>draw a graph: Plugins -&gt; Visualization -&gt; Plot</p>
</li>
<li><p><strong>View logs: rqt_console</strong></p>
</li>
</ul>
<pre><code class="lang-bash">ros2 run rqt_console rqt_console
ros2 run turtlesim turtlesim_node
ros2 topic pub -r 1 /turtle1/cmd_vel geometry_msgs/msg/Twist <span class="hljs-string">&quot;{linear: {x: 2.0, y: 0.0, z: 0.0}, angular: {x: 0.0,y: 0.0,z: 0.0}}&quot;</span>
</code></pre>
<h2 id="27-tf2">2.7 TF2</h2>
<p>tf2 is the transform library, which lets the user keep track of multiple coordinate frames over time. tf2 maintains the relationship between coordinate frames in a tree structure buffered in time and lets the user transform points, vectors, etc. between any two coordinate frames at any desired point in time.</p>
<p>Specific reference: <a href="https://docs.ros.org/en/foxy/Tutorials/Intermediate/Tf2/Introduction-To-Tf2.html" target="_blank">Official Tutorials</a></p>
<p>Let&#x2019;s start by installing the demo package and its dependencies.</p>
<pre><code class="lang-bash">sudo apt-get install ros-foxy-turtle-tf2-py ros-foxy-tf2-tools ros-foxy-tf-transformations
</code></pre>
<ul>
<li><p><strong>follow</strong></p>
</li>
<li><p>launch starts 2 little turtles, the first little turtle automatically follows the second one</p>
</li>
</ul>
<pre><code class="lang-bash">ros2 launch turtle_tf2_py turtle_tf2_demo.launch.py
</code></pre>
<ul>
<li>Control the movement of the first little turtle through the keyboard</li>
</ul>
<pre><code class="lang-bash">ros2 run turtlesim turtle_teleop_key
</code></pre>
<ul>
<li><strong>View TF tree</strong></li>
</ul>
<pre><code class="lang-bash">ros2 run tf2_tools view_frames.py
evince frames.pdf
</code></pre>
<ul>
<li><strong>View the relationship between two coordinate systems</strong></li>
</ul>
<pre><code class="lang-bash">ros2 run tf2_ros tf2_<span class="hljs-built_in">echo</span> [reference_frame] [target_frame]
ros2 run tf2_ros tf2_<span class="hljs-built_in">echo</span> turtle2 turtle1
</code></pre>
<ul>
<li><strong>View TF relationships on rviz</strong></li>
</ul>
<pre><code class="lang-bash">ros2 run rviz2 rviz2 <span class="hljs-_">-d</span> $(ros2 pkg prefix --share turtle_tf2_py)/rviz/turtle_rviz.rviz
</code></pre>
<h2 id="28-urdf">2.8 URDF</h2>
<p>URDF is the Unified Robot Description Format for specifying robot geometry and organization in ROS.</p>
<p>Specific reference: <a href="https://docs.ros.org/en/foxy/Tutorials/Intermediate/URDF/Adding-Physical-and-Collision-Properties-to-a-URDF-Model.html" target="_blank">Official Tutorials</a></p>
<ul>
<li><strong>Complete syntax</strong></li>
</ul>
<pre><code class="lang-bash">&lt;robot&gt;
    <span class="hljs-comment"># describe:</span>
    <span class="hljs-comment"># Parameters: name=&quot;&quot;</span>
    <span class="hljs-comment">#  Child node:</span>
        &lt;link&gt;
            <span class="hljs-comment"># Description:</span>
            <span class="hljs-comment"># Parameters&#xFF1A;name=&quot;&quot;</span>
            <span class="hljs-comment"># Child node:</span>
                &lt;visual&gt;
                    <span class="hljs-comment"># describe:</span>
                    <span class="hljs-comment"># Parameters:</span>
                    <span class="hljs-comment"># child nodes: </span>
                        &lt;geometry&gt;
                            <span class="hljs-comment"># description</span>
                            <span class="hljs-comment"># parameters</span>
                            <span class="hljs-comment"># Child node: </span>
                                &lt;cylinder /&gt;
                                    <span class="hljs-comment"># Description:</span>
                                    <span class="hljs-comment"># Parameters:</span>
                                        <span class="hljs-comment"># length=&quot;0.6&quot;</span>
                                        <span class="hljs-comment"># radius=&quot;0.2&quot;</span>
                                &lt;box /&gt;
                                    <span class="hljs-comment"># description</span>
                                    <span class="hljs-comment"># Parameters:size=&quot;0.6 0.1 0.2&quot;</span>
                                &lt;mesh /&gt;
                                    <span class="hljs-comment">#  Description</span>
                                    <span class="hljs-comment">#Parameters: filename=&quot;package://urdf_tutorial/meshes/l_finger_tip.dae&quot;</span>
                        &lt;collision&gt;
                            <span class="hljs-comment"># Description: collision element, prioritized</span>
                            <span class="hljs-comment"># parameters</span>
                            <span class="hljs-comment"># child node </span>
                                &lt;geometry&gt;
                        &lt;inertial&gt;
                            <span class="hljs-comment"># description</span>
                            <span class="hljs-comment"># parameters</span>
                            <span class="hljs-comment"># Child nodes: </span>
                                &lt;mass /&gt;
                                    <span class="hljs-comment"># description: mass</span>
                                    <span class="hljs-comment"># Parameters: value=10</span>
                                &lt;inertia /&gt;
                                    <span class="hljs-comment"># Description: Inertia</span>
                                    <span class="hljs-comment"># Parameters: i+&quot;Cartesian product of xyz&quot; (9 in total)=&quot;0.4&quot;</span>
                        &lt;origin /&gt;
                            <span class="hljs-comment"># Description:</span>
                            <span class="hljs-comment"># Parameters:</span>
                                <span class="hljs-comment"># rpy=&quot;0 1.5 0&quot;</span>
                                <span class="hljs-comment"># xyz=&quot;0 0 -0.3&quot;</span>
                        &lt;material /&gt;
                            <span class="hljs-comment"># Description</span>
                            <span class="hljs-comment"># Parameters&#xFF1A;name=&quot;blue&quot;</span>
        &lt;joint&gt;
            <span class="hljs-comment"># Description</span>
            <span class="hljs-comment"># Parameters&#xFF1A;</span>
                <span class="hljs-comment"># name=&quot;&quot;</span>
                <span class="hljs-comment"># type=&quot;&quot;</span>
                    <span class="hljs-comment"># fixed</span>
                    <span class="hljs-comment"># prismatic</span>
            <span class="hljs-comment"># child node</span>
                &lt;parent /&gt;
                    <span class="hljs-comment"># Description</span>
                    <span class="hljs-comment"># Parameters&#xFF1A;link=&quot;&quot;</span>
                &lt;child /&gt;
                    <span class="hljs-comment"># Description&#xFF1A;</span>
                    <span class="hljs-comment"># Parameters&#xFF1A;link=&quot;&quot;</span>
                &lt;origin /&gt;
                    <span class="hljs-comment"># Description&#xFF1A;</span>
                    <span class="hljs-comment"># Parameters&#xFF1A;xyz=&quot;0 -0.2 0.25&quot;</span>
                &lt;<span class="hljs-built_in">limit</span> /&gt;
                    <span class="hljs-comment"># Description</span>
                    <span class="hljs-comment"># Parameters&#xFF1A;</span>
                        <span class="hljs-comment"># effort=&quot;1000.0&quot;    maximum effort</span>
                        <span class="hljs-comment"># lower=&quot;-0.38&quot;      Joint upper limit (radians)</span>
                        <span class="hljs-comment"># upper=&quot;0&quot;          Joint lower limit (radians)</span>
                        <span class="hljs-comment"># velocity=&quot;0.5&quot;     Maximum velocity </span>
                &lt;axis /&gt;
                    <span class="hljs-comment"># Description&#xFF1A; Press ? axis rotation</span>
                    <span class="hljs-comment"># Parameters&#xFF1A;xyz=&quot;0 0 1&quot;&#xFF0C;along the Z axis</span>
        &lt;material&gt;
            <span class="hljs-comment"># Description&#xFF1A;</span>
            <span class="hljs-comment"># Parameters&#xFF1A;name=&quot;blue&quot;</span>
            <span class="hljs-comment"># child node&#xFF1A;</span>
                &lt;color /&gt;
                    <span class="hljs-comment"># description&#xFF1A;</span>
                    <span class="hljs-comment"># Parameters&#xFF1A;rgba=&quot;0 0 0.8 1&quot;</span>
</code></pre>
<ul>
<li><strong>Install dependent libraries</strong></li>
</ul>
<pre><code class="lang-bash">sudo apt install ros-foxy-joint-state-publisher-gui ros-foxy-joint-state-publisher
sudo apt install ros-foxy-xacro
</code></pre>
<ul>
<li><strong>Download the source code</strong></li>
</ul>
<pre><code class="lang-bash"><span class="hljs-built_in">cd</span> ~/dev_ws  
git <span class="hljs-built_in">clone</span> -b ros2 https://github.com/ros/urdf_tutorial.git src/urdf_tutorial
</code></pre>
<ul>
<li><strong>Compiling the source code</strong></li>
</ul>
<pre><code class="lang-bash">colcon build --packages-select urdf_tutorial
</code></pre>
<ul>
<li><strong>Running the example</strong></li>
</ul>
<pre><code class="lang-bash">ros2 launch urdf_tutorial display.launch.py model:=urdf/01-myfirst.urdf
</code></pre>
<h2 id="29-launch">2.9 Launch</h2>
<p>The launch system in ROS 2 is responsible for helping the user describe the configuration of their system and then execute it as described. The configuration of the system includes what programs to run, where to run them, what arguments to pass them, and ROS-specific conventions which make it easy to reuse components throughout the system by giving them each a different configuration. It is also responsible for monitoring the state of the processes launched, and reporting and/or reacting to changes in the state of those processes.</p>
<p>Launch files written in Python, XML, or YAML can start and stop different nodes as well as trigger and act on various events. </p>
<p>Specific reference: <a href="https://docs.ros.org/en/foxy/Tutorials/Intermediate/Launch/Creating-Launch-Files.html" target="_blank">Official Tutorials</a></p>
<p><strong>Setup</strong></p>
<p>Create a new directory to store your launch files:</p>
<pre><code class="lang-bash">mkdir launch
</code></pre>
<p><strong>Writer the launch file</strong></p>
<p>Let&#x2019;s put together a ROS 2 launch file using the turtlesim package and its executables. As mentioned above.</p>
<p>Copy and paste the complete code into the launch/turtlesim_mimic_launch.py file:</p>
<pre><code class="lang-bash">from launch import LaunchDescription
from launch_ros.actions import Node

def generate_launch_description():
    <span class="hljs-built_in">return</span> LaunchDescription([
        Node(
            package=<span class="hljs-string">&apos;turtlesim&apos;</span>,
            namespace=<span class="hljs-string">&apos;turtlesim1&apos;</span>,
            executable=<span class="hljs-string">&apos;turtlesim_node&apos;</span>,
            name=<span class="hljs-string">&apos;sim&apos;</span>
        ),
        Node(
            package=<span class="hljs-string">&apos;turtlesim&apos;</span>,
            namespace=<span class="hljs-string">&apos;turtlesim2&apos;</span>,
            executable=<span class="hljs-string">&apos;turtlesim_node&apos;</span>,
            name=<span class="hljs-string">&apos;sim&apos;</span>
        ),
        Node(
            package=<span class="hljs-string">&apos;turtlesim&apos;</span>,
            executable=<span class="hljs-string">&apos;mimic&apos;</span>,
            name=<span class="hljs-string">&apos;mimic&apos;</span>,
            remappings=[
                (<span class="hljs-string">&apos;/input/pose&apos;</span>, <span class="hljs-string">&apos;/turtlesim1/turtle1/pose&apos;</span>),
                (<span class="hljs-string">&apos;/output/cmd_vel&apos;</span>, <span class="hljs-string">&apos;/turtlesim2/turtle1/cmd_vel&apos;</span>),
            ]
        )
    ])
</code></pre>
<p><strong>Run the ros2 launch file</strong></p>
<p>To run the launch file created above, enter into the directory you created earlier and run the following command:</p>
<p>The syntax format is:</p>
<pre><code class="lang-bash">ros2 launch &lt;package_name&gt; &lt;launch_file_name&gt;
</code></pre>
<pre><code class="lang-bash"><span class="hljs-built_in">cd</span> launch
ros2 launch turtlesim_mimic_launch.py
</code></pre>
<ul>
<li><strong>launch help</strong></li>
</ul>
<pre><code class="lang-bash">ros2 launch -h
</code></pre>
<ul>
<li><strong>running node</strong></li>
</ul>
<pre><code class="lang-bash">ros2 launch turtlesim multisim.launch.py
</code></pre>
<ul>
<li><strong>Check the parameters of the launc file</strong></li>
</ul>
<pre><code class="lang-bash">ros2 launch turtlebot3_fake_node turtlebot3_fake_node.launch.py <span class="hljs-_">-s</span>
ros2 launch turtlebot3_fake_node turtlebot3_fake_node.launch.py --show-arguments
ros2 launch turtlebot3_bringup robot.launch.launch.py <span class="hljs-_">-s</span>
</code></pre>
<ul>
<li><strong>Run the launch file with parameters</strong></li>
</ul>
<pre><code class="lang-bash">ros2 launch turtlebot3_bringup robot.launch.launch.py usb_port:=/dev/opencr
</code></pre>
<ul>
<li><strong>Run the node and debug</strong></li>
</ul>
<pre><code class="lang-bash">ros2 launch turtlesim turtlesim_node.launch.py <span class="hljs-_">-d</span>
</code></pre>
<ul>
<li><strong>Only output node description</strong></li>
</ul>
<pre><code class="lang-bash">ros2 launch turtlesim turtlesim_node.launch.py -p
</code></pre>
<ul>
<li><strong>running components</strong></li>
</ul>
<pre><code class="lang-bash">ros2 launch composition composition_demo.launch.py
</code></pre>
<h2 id="210-run">2.10 Run</h2>
<p>run is used to run a single node, component program</p>
<ul>
<li><strong>run help</strong></li>
</ul>
<pre><code class="lang-bash">ros2 run -h
</code></pre>
<ul>
<li><strong>running node</strong></li>
</ul>
<pre><code class="lang-bash">ros2 run turtlesim turtlesim_node
</code></pre>
<ul>
<li><strong>Run node with parameters</strong></li>
</ul>
<pre><code class="lang-bash">ros2 run turtlesim turtlesim_node --ros-args -r __node:=turtle2 -r __ns:=/ns2
</code></pre>
<ul>
<li><strong>Run component container</strong></li>
</ul>
<pre><code class="lang-bash">ros2 run rclcpp_components component_container
</code></pre>
<ul>
<li><strong>running components</strong></li>
</ul>
<pre><code class="lang-bash">ros2 run composition manual_composition
</code></pre>
<h2 id="211-package">2.11 Package</h2>
<p>A package can be considered a container for your ROS 2 code. If you want to be able to install your code or share it with others, then you&#x2019;ll need it organized in a package. With packages, you can release your ROS 2 work and allow others to build and use it easily.</p>
<p>Package creation in ROS 2 uses ament as its build system and colcon as its build tool. You can create a package using either CMake or Python, which are officially supported, though other build types do exist.</p>
<p>Specific reference: <a href="https://docs.ros.org/en/foxy/Tutorials/Beginner-Client-Libraries/Creating-Your-First-ROS2-Package.html" target="_blank">Official Tutorials</a></p>
<p><strong>Creating a workspace</strong></p>
<p>Create a new directory for every new workspace. The name doesn&#x2019;t matter, but it is helpful to have it indicate the purpose of the workspace. Let&#x2019;s choose the directory name ros2_ws, for &#x201C;development workspace&#x201D;:</p>
<pre><code class="lang-bash">mkdir -p ~/ros2_ws/src
<span class="hljs-built_in">cd</span> ~/ros2_ws/src
</code></pre>
<ul>
<li><strong>pkg help</strong></li>
</ul>
<pre><code class="lang-bash">ros2 pkg -h
</code></pre>
<ul>
<li><strong>List Feature Packs</strong></li>
</ul>
<pre><code class="lang-bash">ros2 pkg executable turtlesim
</code></pre>
<ul>
<li><strong>Output a function package executable program</strong></li>
</ul>
<pre><code class="lang-bash">ros2 pkg executable turtlesim
</code></pre>
<ul>
<li><strong>Create a Python package</strong></li>
</ul>
<p>Make sure you are in the src folder before running the package creation command.</p>
<pre><code class="lang-bash"><span class="hljs-built_in">cd</span> ~/ros2_ws/src
</code></pre>
<p>The command syntax for creating a new package in ROS 2 is:</p>
<pre><code class="lang-bash">ros2 pkg create --build-type ament_python &lt;package_name&gt;
<span class="hljs-comment"># you will use the optional argument --node-name which creates a simple Hello World type executable in the package.</span>
ros2 pkg create --build-type ament_python --node-name my_node my_package
</code></pre>
<ul>
<li><strong>Build a package</strong></li>
</ul>
<p>Putting packages in a workspace is especially valuable because you can build many packages at once by running colcon build in the workspace root. Otherwise, you would have to build each package individually.</p>
<pre><code class="lang-bash"><span class="hljs-comment"># Return to the root of your workspace:</span>
<span class="hljs-built_in">cd</span> ~/ros2_ws
<span class="hljs-comment"># Now you can build your packages:</span>
colcon build
</code></pre>
<ul>
<li><strong>Source the setup file</strong></li>
</ul>
<p>To use your new package and executable, first open a new terminal and source your main ROS 2 installation.</p>
<p>Then, from inside the ros2_ws directory, run the following command to source your workspace:</p>
<pre><code class="lang-bash"><span class="hljs-built_in">source</span> install/setup.bash
</code></pre>
<p>Now that your workspace has been added to your path, you will be able to use your new package&#x2019;s executables.</p>
<ul>
<li><strong>Use the package</strong></li>
</ul>
<p>To run the executable you created using the --node-name argument during package creation, enter the command:</p>
<pre><code class="lang-bash">ros2 run my_package my_node
</code></pre>
<hr>
<p><a href="11.2.1-EnvironmentBuilding.html">&#x2190; Previous Page</a> | <a href="11.2.3-Rviz2Introduction.html">Next Page &#x2192;</a></p>
 <link rel="stylesheet" type="text/css" href="https://storage.googleapis.com/app.klipse.tech/css/codemirror.css"> <script>     window.klipse_settings = {         selector: ".language-klipse, .lang-eval-clojure",         selector_eval_js: ".lang-eval-js",         selector_eval_python_client: ".lang-eval-python",         selector_eval_php: ".lang-eval-php",         selector_eval_scheme: ".lang-eval-scheme",         selector_eval_ruby: ".lang-eval-ruby",         selector_reagent: ".lang-reagent",        selector_google_charts: ".lang-google-chart",        selector_es2017: ".lang-eval-es2017",        selector_jsx: ".lang-eval-jsx",        selector_transpile_jsx: ".lang-transpile-jsx",        selector_render_jsx: ".lang-render-jsx",        selector_react: ".lang-react",        selector_eval_markdown: ".lang-render-markdown",        selector_eval_lambdaway: ".lang-render-lambdaway",        selector_eval_cpp: ".lang-eval-cpp",        selector_eval_html: ".lang-render-html",        selector_sql: ".lang-eval-sql",        selector_brainfuck: "lang-eval-brainfuck",        selector_js: ".lang-transpile-cljs"    }; </script> <script src="https://storage.googleapis.com/app.klipse.tech/plugin/js/klipse_plugin.js"></script>
						
					</section>
					
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

				</div>
			</div>
			
		</div>

		
		
		<a href="11.2.1-EnvironmentBuilding.html" class="navigation navigation-prev " aria-label="Previous page: 1 Environment Building">
			<i class="fa fa-angle-left"></i>
		</a>
		
		
		<a href="11.2.3-Rviz2Introduction.html" class="navigation navigation-next " aria-label="Next page: 3 Rviz2 usage">
			<i class="fa fa-angle-right"></i>
		</a>
		
		
		
	</div>
	<script>
		var gitbook = gitbook || [];
		gitbook.push(function() {
			gitbook.page.hasChanged({"page":{"title":"2 ROS2 Basics","level":"2.1.3.2","depth":3,"next":{"title":"3 Rviz2 usage","level":"2.1.3.3","depth":3,"path":"11-ApplicationBaseROS/11.2-ROS2/11.2.3-Rviz2Introduction.md","ref":"11-ApplicationBaseROS/11.2-ROS2/11.2.3-Rviz2Introduction.md","articles":[]},"previous":{"title":"1 Environment Building","level":"2.1.3.1","depth":3,"path":"11-ApplicationBaseROS/11.2-ROS2/11.2.1-EnvironmentBuilding.md","ref":"11-ApplicationBaseROS/11.2-ROS2/11.2.1-EnvironmentBuilding.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{"themeFexa":{"showHome":false,"showNavigator":false}},"plugins":["chapter-fold","expandable-chapters","back-to-top-button","password-z","-lunr","-search","search-pro","theme-fexa","splitter","-sharing","klipse","livereload"],"pluginsConfig":{"chapter-fold":{},"livereload":{},"splitter":{},"search-pro":{},"password-z":{},"theme-fexa":{"search-placeholder":"Input Keywords to Search","logo":"/photo/logo.png","favicon":"./favicon.ico"},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"back-to-top-button":{},"klipse":{"myConfigKey":"it's the default value"},"password":{},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"expandable-chapters":{}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"11-ApplicationBaseROS/11.2-ROS2/11.2.2-ROS2_Basics.md","mtime":"2024-05-11T02:07:09.356Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2024-05-23T01:57:43.466Z"},"basePath":"../..","book":{"language":""}});
		});
	</script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-chapter-fold/chapter-fold.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-password-z/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-theme-fexa/fexa.js"></script>
        
    

    </body>
</html>

