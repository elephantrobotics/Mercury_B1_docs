
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>6 Examples of Robots Using Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-chapter-fold/chapter-fold.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-password-z/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-theme-fexa/fexa.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../9-AboutUs/" />
    
    
    <link rel="prev" href="../11-ApplicationBaseROS/11.2-ROS2/11.2.4-BasicFunction.html" />
    

    </head>
    <body>
        
<div class="book">
	<div class="header-inner">
		<!-- LOGO -->
		<div class="logo"></div>
		<span class="title"></span>

		<!-- Search -->
		
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>


		<!-- Nav -->
		<ul class="header-nav">
			
		</ul>
	</div>

	<div class="book-summary">
		<div class="book-summary-title">Catalogue</div>
		
		
		<nav role="navigation">
			


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../1-ProductIntroduction/">
            
                <a href="../1-ProductIntroduction/">
            
                    
                    1 Product Introduction
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../1-ProductIntroduction/1.1-DesignPhilosophy.html">
            
                <a href="../1-ProductIntroduction/1.1-DesignPhilosophy.html">
            
                    
                    1.1 Design Philosophy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../1-ProductIntroduction/1.2-ApplicationScenario.html">
            
                <a href="../1-ProductIntroduction/1.2-ApplicationScenario.html">
            
                    
                    1.2 Application Scenario
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../2-ProductFeature/">
            
                <a href="../2-ProductFeature/">
            
                    
                    2 Product Feature
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../2-ProductFeature/2.1-MachineSpecification.html">
            
                <a href="../2-ProductFeature/2.1-MachineSpecification.html">
            
                    
                    2.1 Functional Parameters
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../2-ProductFeature/2.2-ControlCoreParameter.html">
            
                <a href="../2-ProductFeature/2.2-ControlCoreParameter.html">
            
                    
                    2.2 Controller Parameters
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../2-ProductFeature/2.3-MechanicalStructureParameter.html">
            
                <a href="../2-ProductFeature/2.3-MechanicalStructureParameter.html">
            
                    
                    2.3 Structural Parameters
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../2-ProductFeature/2.4-ElectricalCharacteristicParameter.html">
            
                <a href="../2-ProductFeature/2.4-ElectricalCharacteristicParameter.html">
            
                    
                    2.4 Electronic Parameters
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../3-UserNotes/">
            
                <a href="../3-UserNotes/">
            
                    
                    3 User Notes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../3-UserNotes/3.1-SafetyInstruction.html">
            
                <a href="../3-UserNotes/3.1-SafetyInstruction.html">
            
                    
                    3.1 Safety Instructions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../3-UserNotes/3.2-TransportandStorage.html">
            
                <a href="../3-UserNotes/3.2-TransportandStorage.html">
            
                    
                    3.2 Transport and Storage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../3-UserNotes/3.3-MaintenanceandCare.html">
            
                <a href="../3-UserNotes/3.3-MaintenanceandCare.html">
            
                    
                    3.3 Maintenance and Care
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../3-UserNotes/3.4-FAQsandSolutions.html">
            
                <a href="../3-UserNotes/3.4-FAQsandSolutions.html">
            
                    
                    3.4 FAQs
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.4.1" data-path="../3-UserNotes/IssueFAQ/how_to_ask.html">
            
                <a href="../3-UserNotes/IssueFAQ/how_to_ask.html">
            
                    
                    1 How To Ask Questions Gracefully
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4.2" data-path="../3-UserNotes/IssueFAQ/driver.html">
            
                <a href="../3-UserNotes/IssueFAQ/driver.html">
            
                    
                    2 Drive Related
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4.3" data-path="../3-UserNotes/IssueFAQ/software.html">
            
                <a href="../3-UserNotes/IssueFAQ/software.html">
            
                    
                    3 Software Problem
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4.4" data-path="../3-UserNotes/IssueFAQ/hardware.html">
            
                <a href="../3-UserNotes/IssueFAQ/hardware.html">
            
                    
                    4 Hardware Problem
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../4-FirstInstallAndUse/">
            
                <a href="../4-FirstInstallAndUse/">
            
                    
                    4 First Install and Use
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../4-FirstInstallAndUse/4-FirstInstallAndUse.html">
            
                <a href="../4-FirstInstallAndUse/4-FirstInstallAndUse.html">
            
                    
                    4.1 Product Standard List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../4-FirstInstallAndUse/4.2-ProductUnboxingGuide.html">
            
                <a href="../4-FirstInstallAndUse/4.2-ProductUnboxingGuide.html">
            
                    
                    4.2 Product Unboxing Guide
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../4-FirstInstallAndUse/4.3-Power-onTestGuide.html">
            
                <a href="../4-FirstInstallAndUse/4.3-Power-onTestGuide.html">
            
                    
                    4.3 Power-on Test Guide
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../6-SDKDevelopment/">
            
                <a href="../6-SDKDevelopment/">
            
                    
                    5 SDK Development
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="../6-SDKDevelopment/6.1-ApplicationBasePython.html">
            
                <a href="../6-SDKDevelopment/6.1-ApplicationBasePython.html">
            
                    
                    5.1 Python
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1.1" data-path="../6-SDKDevelopment/6.1-Python/6.1.1-EnvironmentConfiguration.html">
            
                <a href="../6-SDKDevelopment/6.1-Python/6.1.1-EnvironmentConfiguration.html">
            
                    
                    1 Environment Building
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.2" data-path="../6-SDKDevelopment/6.1-Python/6.1.2-ApplicationBasePython.html">
            
                <a href="../6-SDKDevelopment/6.1-Python/6.1.2-ApplicationBasePython.html">
            
                    
                    2 Introduction to API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.3" data-path="../10-ApplicationBasePython/10.3-PythonDemo.html">
            
                <a href="../10-ApplicationBasePython/10.3-PythonDemo.html">
            
                    
                    3 python demo
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.4" data-path="../6-SDKDevelopment/6.1-Python/61.4-Drag_teach.html">
            
                <a href="../6-SDKDevelopment/6.1-Python/61.4-Drag_teach.html">
            
                    
                    3 Drag to teach
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.5" data-path="../6-SDKDevelopment/6.1-Python/6.1.3-PythonDemo.html">
            
                <a href="../6-SDKDevelopment/6.1-Python/6.1.3-PythonDemo.html">
            
                    
                    4 Use Cases
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="../11-ApplicationBaseROS/11.1-ROS1/">
            
                <a href="../11-ApplicationBaseROS/11.1-ROS1/">
            
                    
                    5.2 ROS1
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.2.1" data-path="../11-ApplicationBaseROS/11.1-ROS1/11.1.1-EnvironmentBuilding.html">
            
                <a href="../11-ApplicationBaseROS/11.1-ROS1/11.1.1-EnvironmentBuilding.html">
            
                    
                    1 Environment Building
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.2" data-path="../11-ApplicationBaseROS/11.1-ROS1/11.1.2-ROS_Basics.html">
            
                <a href="../11-ApplicationBaseROS/11.1-ROS1/11.1.2-ROS_Basics.html">
            
                    
                    2 ROS Basics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.3" data-path="../11-ApplicationBaseROS/11.1-ROS1/11.1.3-RvizIntroduction.html">
            
                <a href="../11-ApplicationBaseROS/11.1-ROS1/11.1.3-RvizIntroduction.html">
            
                    
                    3 Rviz usage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.4" data-path="../11-ApplicationBaseROS/11.1-ROS1/11.1.4-BasicFunction.html">
            
                <a href="../11-ApplicationBaseROS/11.1-ROS1/11.1.4-BasicFunction.html">
            
                    
                    4 Basic Function Case
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="../11-ApplicationBaseROS/11.2-ROS2/">
            
                <a href="../11-ApplicationBaseROS/11.2-ROS2/">
            
                    
                    5.3 ROS2
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.3.1" data-path="../11-ApplicationBaseROS/11.2-ROS2/11.2.1-EnvironmentBuilding.html">
            
                <a href="../11-ApplicationBaseROS/11.2-ROS2/11.2.1-EnvironmentBuilding.html">
            
                    
                    1 Environment Building
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.2" data-path="../11-ApplicationBaseROS/11.2-ROS2/11.2.2-ROS2_Basics.html">
            
                <a href="../11-ApplicationBaseROS/11.2-ROS2/11.2.2-ROS2_Basics.html">
            
                    
                    2 ROS2 Basics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.3" data-path="../11-ApplicationBaseROS/11.2-ROS2/11.2.3-Rviz2Introduction.html">
            
                <a href="../11-ApplicationBaseROS/11.2-ROS2/11.2.3-Rviz2Introduction.html">
            
                    
                    3 Rviz2 usage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.4" data-path="../11-ApplicationBaseROS/11.2-ROS2/11.2.4-BasicFunction.html">
            
                <a href="../11-ApplicationBaseROS/11.2-ROS2/11.2.4-BasicFunction.html">
            
                    
                    4 Basic Function Case
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter active" data-level="2.2" data-path="7-ExamplesRobotsUsing.html">
            
                <a href="7-ExamplesRobotsUsing.html">
            
                    
                    6 Examples of Robots Using
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../9-AboutUs/">
            
                <a href="../9-AboutUs/">
            
                    
                    7 About Us
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" data-path="../9-AboutUs/9.1-company.html">
            
                <a href="../9-AboutUs/9.1-company.html">
            
                    
                    7.1 Elephant Robotics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2" data-path="../9-AboutUs/9.2-contact.html">
            
                <a href="../9-AboutUs/9.2-contact.html">
            
                    
                    7.2 Contact us
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


		</nav>
		
		
	</div>

	<!-- Content nav -->
	<div class="book-anchor">
		<div class="book-anchor-title">In this Chapter:</div>
		<div class="book-anchor-body">

		</div>
	</div>

	<div class="book-body">
		
		<div class="body-inner">
			
			

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >6 Examples of Robots Using</a>
    </h1>
</div>




			<div class="page-wrapper" tabindex="-1" role="main">
				<div class="page-inner">
					
<div id="book-search-results">
    <div class="search-noresults">
    
					<section class="normal markdown-section">
						
						<h1 id="7-robot-arm-usage-scenario-case">7 Robot arm usage scenario case</h1>
<p>This chapter presents classic robotic arm use cases to demonstrate the application of the product in representative scenarios. This includes typical applications of robotic arms in different fields, highlighting the product&apos;s versatility and applicability. Through these cases, users can gain an in-depth understanding of the flexibility and performance of the robotic arm in practical applications, providing a reference for their application in specific scenarios.</p>
<p><strong>Mobile grabbing wooden block case</strong></p>
<pre><code class="lang-python"><span class="hljs-keyword">from</span> uvc_camera <span class="hljs-keyword">import</span> UVCCamera
<span class="hljs-keyword">from</span> arm_control <span class="hljs-keyword">import</span> *
<span class="hljs-keyword">from</span> marker_utils <span class="hljs-keyword">import</span> *
<span class="hljs-keyword">import</span> stag

<span class="hljs-comment"># Gripper tool length</span>
Tool_LEN = <span class="hljs-number">175</span>
<span class="hljs-comment"># Distance from camera center to flange</span>
Camera_LEN = <span class="hljs-number">78</span>
np.set_printoptions(suppress=<span class="hljs-keyword">True</span>, formatter={<span class="hljs-string">&apos;float_kind&apos;</span>: <span class="hljs-string">&apos;{:.2f}&apos;</span>.format})
<span class="hljs-comment"># Camera configuration file</span>
camera_params = np.load(<span class="hljs-string">&quot;src/camera_params.npz&quot;</span>)
mtx, dist = camera_params[<span class="hljs-string">&quot;mtx&quot;</span>], camera_params[<span class="hljs-string">&quot;dist&quot;</span>]
<span class="hljs-comment"># QR code size</span>
MARKER_SIZE = <span class="hljs-number">32</span>
<span class="hljs-comment"># Set left arm port</span>
ml = Mercury(<span class="hljs-string">&quot;/dev/ttyTHS0&quot;</span>)


<span class="hljs-comment"># Convert rotation matrix to Euler angles</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">CvtRotationMatrixToEulerAngle</span><span class="hljs-params">(pdtRotationMatrix)</span>:</span>
    pdtEulerAngle = np.zeros(<span class="hljs-number">3</span>)
    pdtEulerAngle[<span class="hljs-number">2</span>] = np.arctan2(pdtRotationMatrix[<span class="hljs-number">1</span>, <span class="hljs-number">0</span>], pdtRotationMatrix[<span class="hljs-number">0</span>, <span class="hljs-number">0</span>])
    fCosRoll = np.cos(pdtEulerAngle[<span class="hljs-number">2</span>])
    fSinRoll = np.sin(pdtEulerAngle[<span class="hljs-number">2</span>])
    pdtEulerAngle[<span class="hljs-number">1</span>] = np.arctan2(-pdtRotationMatrix[<span class="hljs-number">2</span>, <span class="hljs-number">0</span>],
                                  (fCosRoll * pdtRotationMatrix[<span class="hljs-number">0</span>, <span class="hljs-number">0</span>]) + (fSinRoll * pdtRotationMatrix[<span class="hljs-number">1</span>, <span class="hljs-number">0</span>]))
    pdtEulerAngle[<span class="hljs-number">0</span>] = np.arctan2((fSinRoll * pdtRotationMatrix[<span class="hljs-number">0</span>, <span class="hljs-number">2</span>]) - (fCosRoll * pdtRotationMatrix[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>]),
                                  (-fSinRoll * pdtRotationMatrix[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>]) + (fCosRoll * pdtRotationMatrix[<span class="hljs-number">1</span>, <span class="hljs-number">1</span>]))
    <span class="hljs-keyword">return</span> pdtEulerAngle


<span class="hljs-comment"># Convert Euler angles to rotation matrix</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">CvtEulerAngleToRotationMatrix</span><span class="hljs-params">(ptrEulerAngle)</span>:</span>
    ptrSinAngle = np.sin(ptrEulerAngle)
    ptrCosAngle = np.cos(ptrEulerAngle)
    ptrRotationMatrix = np.zeros((<span class="hljs-number">3</span>, <span class="hljs-number">3</span>))
    ptrRotationMatrix[<span class="hljs-number">0</span>, <span class="hljs-number">0</span>] = ptrCosAngle[<span class="hljs-number">2</span>] * ptrCosAngle[<span class="hljs-number">1</span>]
    ptrRotationMatrix[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>] = ptrCosAngle[<span class="hljs-number">2</span>] * ptrSinAngle[<span class="hljs-number">1</span>] * ptrSinAngle[<span class="hljs-number">0</span>] - ptrSinAngle[<span class="hljs-number">2</span>] * ptrCosAngle[<span class="hljs-number">0</span>]
    ptrRotationMatrix[<span class="hljs-number">0</span>, <span class="hljs-number">2</span>] = ptrCosAngle[<span class="hljs-number">2</span>] * ptrSinAngle[<span class="hljs-number">1</span>] * ptrCosAngle[<span class="hljs-number">0</span>] + ptrSinAngle[<span class="hljs-number">2</span>] * ptrSinAngle[<span class="hljs-number">0</span>]
    ptrRotationMatrix[<span class="hljs-number">1</span>, <span class="hljs-number">0</span>] = ptrSinAngle[<span class="hljs-number">2</span>] * ptrCosAngle[<span class="hljs-number">1</span>]
    ptrRotationMatrix[<span class="hljs-number">1</span>, <span class="hljs-number">1</span>] = ptrSinAngle[<span class="hljs-number">2</span>] * ptrSinAngle[<span class="hljs-number">1</span>] * ptrSinAngle[<span class="hljs-number">0</span>] + ptrCosAngle[<span class="hljs-number">2</span>] * ptrCosAngle[<span class="hljs-number">0</span>]
    ptrRotationMatrix[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>] = ptrSinAngle[<span class="hljs-number">2</span>] * ptrSinAngle[<span class="hljs-number">1</span>] * ptrCosAngle[<span class="hljs-number">0</span>] - ptrCosAngle[<span class="hljs-number">2</span>] * ptrSinAngle[<span class="hljs-number">0</span>]
    ptrRotationMatrix[<span class="hljs-number">2</span>, <span class="hljs-number">0</span>] = -ptrSinAngle[<span class="hljs-number">1</span>]
    ptrRotationMatrix[<span class="hljs-number">2</span>, <span class="hljs-number">1</span>] = ptrCosAngle[<span class="hljs-number">1</span>] * ptrSinAngle[<span class="hljs-number">0</span>]
    ptrRotationMatrix[<span class="hljs-number">2</span>, <span class="hljs-number">2</span>] = ptrCosAngle[<span class="hljs-number">1</span>] * ptrCosAngle[<span class="hljs-number">0</span>]
    <span class="hljs-keyword">return</span> ptrRotationMatrix


<span class="hljs-comment"># Coordinates are converted into homogeneous transformation matrices, (x, y, z, rx, ry, rz) unit rad</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">Transformation_matrix</span><span class="hljs-params">(coord)</span>:</span>
    position_robot = coord[:<span class="hljs-number">3</span>]
    pose_robot = coord[<span class="hljs-number">3</span>:]
    <span class="hljs-comment"># Convert Euler angles to rotation matrix</span>
    RBT = CvtEulerAngleToRotationMatrix(pose_robot)
    PBT = np.array([[position_robot[<span class="hljs-number">0</span>]],
                    [position_robot[<span class="hljs-number">1</span>]],
                    [position_robot[<span class="hljs-number">2</span>]]])
    temp = np.concatenate((RBT, PBT), axis=<span class="hljs-number">1</span>)
    array_1x4 = np.array([[<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>]])
    <span class="hljs-comment"># Splice the two arrays row by row</span>
    matrix = np.concatenate((temp, array_1x4), axis=<span class="hljs-number">0</span>)
    <span class="hljs-keyword">return</span> matrix


<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">Eyes_in_hand_left</span><span class="hljs-params">(coord, camera)</span>:</span>
    <span class="hljs-comment"># Camera coordinates</span>
    Position_Camera = np.transpose(camera[:<span class="hljs-number">3</span>])
    <span class="hljs-comment"># Robotic arm coordinate matrix</span>
    Matrix_BT = Transformation_matrix(coord)
    <span class="hljs-comment"># Hand-eye matrix</span>
    Matrix_TC = np.array([[<span class="hljs-number">0</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, Camera_LEN],
                          [<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>],
                          [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, -Tool_LEN],
                          [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>]])
    <span class="hljs-comment"># Object coordinates (camera system)</span>
    Position_Camera = np.append(Position_Camera, <span class="hljs-number">1</span>)
    <span class="hljs-comment"># Object coordinates (base coordinate system)</span>
    Position_B = Matrix_BT @ Matrix_TC @ Position_Camera
    <span class="hljs-keyword">return</span> Position_B


<span class="hljs-comment"># Wait for the end of the robot arm operation</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">waitl</span><span class="hljs-params">()</span>:</span>
    time.sleep(<span class="hljs-number">0.2</span>)
    <span class="hljs-keyword">while</span> (ml.is_moving()):
        time.sleep(<span class="hljs-number">0.03</span>)


<span class="hljs-comment"># Get object coordinates (camera system)</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">calc_markers_base_position</span><span class="hljs-params">(corners: NDArray, ids: T.List, marker_size: int, mtx: NDArray, dist: NDArray)</span> -&gt; T.List:</span>
    <span class="hljs-keyword">if</span> len(corners) == <span class="hljs-number">0</span>:
        <span class="hljs-keyword">return</span> []
    <span class="hljs-comment"># Obtain the rotation vector and translation vector of the object through the QR code corner point</span>
    rvecs, tvecs = solve_marker_pnp(corners, marker_size, mtx, dist)
    <span class="hljs-keyword">for</span> i, tvec, rvec <span class="hljs-keyword">in</span> zip(ids, tvecs, rvecs):
        tvec = tvec.squeeze().tolist()
        rvec = rvec.squeeze().tolist()
        rotvector = np.array([[rvec[<span class="hljs-number">0</span>], rvec[<span class="hljs-number">1</span>], rvec[<span class="hljs-number">2</span>]]])
        <span class="hljs-comment"># Convert rotation vector to rotation matrix</span>
        Rotation = cv2.Rodrigues(rotvector)[<span class="hljs-number">0</span>]
        <span class="hljs-comment"># Convert rotation matrix to Euler angles</span>
        Euler = CvtRotationMatrixToEulerAngle(Rotation)
        <span class="hljs-comment"># Object coordinates (camera system)</span>
        target_coords = np.array([tvec[<span class="hljs-number">0</span>], tvec[<span class="hljs-number">1</span>], tvec[<span class="hljs-number">2</span>], Euler[<span class="hljs-number">0</span>], Euler[<span class="hljs-number">1</span>], Euler[<span class="hljs-number">2</span>]])
    <span class="hljs-keyword">return</span> target_coords


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:
    <span class="hljs-comment"># Set camera id</span>
    camera = UVCCamera(<span class="hljs-number">5</span>, mtx, dist)
    <span class="hljs-comment"># Open camera</span>
    camera.capture()
    <span class="hljs-comment"># Set the left arm observation point</span>
    origin_anglesL = [<span class="hljs-number">-44.24</span>, <span class="hljs-number">15.56</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">-102.59</span>, <span class="hljs-number">65.28</span>, <span class="hljs-number">52.06</span>, <span class="hljs-number">23.49</span>]
    <span class="hljs-comment"># Set the gripper movement mode</span>
    ml.set_gripper_mode(<span class="hljs-number">0</span>)
    <span class="hljs-comment"># Set tool coordinate system</span>
    ml.set_tool_reference([<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, Tool_LEN, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>])
    <span class="hljs-comment"># Set the end coordinate system to the tool</span>
    ml.set_end_type(<span class="hljs-number">1</span>)
    <span class="hljs-comment"># Set movement speed</span>
    sp = <span class="hljs-number">40</span>
    <span class="hljs-comment"># Move to the observation point</span>
    ml.send_angles(origin_anglesL, sp)
    <span class="hljs-comment"># Wait for the robot arm movement to end</span>
    waitl()
    <span class="hljs-comment"># Refresh camera interface</span>
    camera.update_frame()
    <span class="hljs-comment"># Get the current frame</span>
    frame = camera.color_frame()
    <span class="hljs-comment"># Get the angle and id of the QR code in the screen</span>
    (corners, ids, rejected_corners) = stag.detectMarkers(frame, <span class="hljs-number">11</span>)
    <span class="hljs-comment"># Get the coordinates of the object (camera system)</span>
    marker_pos_pack = calc_markers_base_position(corners, ids, MARKER_SIZE, mtx, dist)
    <span class="hljs-comment"># Get the current coordinates of the robotic arm</span>
    cur_coords = np.array(ml.get_base_coords())
    <span class="hljs-comment"># Convert angle value to radian value</span>
    cur_bcl = cur_coords.copy()
    cur_bcl[<span class="hljs-number">-3</span>:] *= (np.pi / <span class="hljs-number">180</span>)
    <span class="hljs-comment"># Convert object coordinates (camera system) to (base coordinate system) through matrix change</span>
    fact_bcl = Eyes_in_hand_left(cur_bcl, marker_pos_pack)
    target_coords = cur_coords.copy()
    target_coords[<span class="hljs-number">0</span>] = fact_bcl[<span class="hljs-number">0</span>]
    target_coords[<span class="hljs-number">1</span>] = fact_bcl[<span class="hljs-number">1</span>]
    target_coords[<span class="hljs-number">2</span>] = fact_bcl[<span class="hljs-number">2</span>] + <span class="hljs-number">50</span>
    <span class="hljs-comment"># The robotic arm moves above the QR code</span>
    ml.send_base_coords(target_coords, <span class="hljs-number">30</span>)
    <span class="hljs-comment"># Wait for the robot arm movement to end</span>
    waitl()
    <span class="hljs-comment"># Open the gripper</span>
    ml.set_gripper_value(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>)
    <span class="hljs-comment"># The robot arm moves downward along the z-axis</span>
    ml.send_base_coord(<span class="hljs-number">3</span>, fact_bcl[<span class="hljs-number">2</span>], <span class="hljs-number">10</span>)
    <span class="hljs-comment"># Wait for the robot arm movement to end</span>
    waitl()
    <span class="hljs-comment"># Close jaws</span>
    ml.set_gripper_value(<span class="hljs-number">20</span>, <span class="hljs-number">100</span>)

    <span class="hljs-comment"># Wait for the jaws to close</span>
    time.sleep(<span class="hljs-number">2</span>)

    <span class="hljs-comment"># Lift the gripper</span>
    ml.send_base_coord(<span class="hljs-number">3</span>, fact_bcl[<span class="hljs-number">2</span>] + <span class="hljs-number">50</span>, <span class="hljs-number">10</span>)
</code></pre>
 <link rel="stylesheet" type="text/css" href="https://storage.googleapis.com/app.klipse.tech/css/codemirror.css"> <script>     window.klipse_settings = {         selector: ".language-klipse, .lang-eval-clojure",         selector_eval_js: ".lang-eval-js",         selector_eval_python_client: ".lang-eval-python",         selector_eval_php: ".lang-eval-php",         selector_eval_scheme: ".lang-eval-scheme",         selector_eval_ruby: ".lang-eval-ruby",         selector_reagent: ".lang-reagent",        selector_google_charts: ".lang-google-chart",        selector_es2017: ".lang-eval-es2017",        selector_jsx: ".lang-eval-jsx",        selector_transpile_jsx: ".lang-transpile-jsx",        selector_render_jsx: ".lang-render-jsx",        selector_react: ".lang-react",        selector_eval_markdown: ".lang-render-markdown",        selector_eval_lambdaway: ".lang-render-lambdaway",        selector_eval_cpp: ".lang-eval-cpp",        selector_eval_html: ".lang-render-html",        selector_sql: ".lang-eval-sql",        selector_brainfuck: "lang-eval-brainfuck",        selector_js: ".lang-transpile-cljs"    }; </script> <script src="https://storage.googleapis.com/app.klipse.tech/plugin/js/klipse_plugin.js"></script>
						
					</section>
					
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

				</div>
			</div>
			
		</div>

		
		
		<a href="../11-ApplicationBaseROS/11.2-ROS2/11.2.4-BasicFunction.html" class="navigation navigation-prev " aria-label="Previous page: 4 Basic Function Case">
			<i class="fa fa-angle-left"></i>
		</a>
		
		
		<a href="../9-AboutUs/" class="navigation navigation-next " aria-label="Next page: 7 About Us">
			<i class="fa fa-angle-right"></i>
		</a>
		
		
		
	</div>
	<script>
		var gitbook = gitbook || [];
		gitbook.push(function() {
			gitbook.page.hasChanged({"page":{"title":"6 Examples of Robots Using","level":"2.2","depth":1,"next":{"title":"7 About Us","level":"3.1","depth":1,"path":"9-AboutUs/README.md","ref":"9-AboutUs/README.md","articles":[{"title":"7.1 Elephant Robotics","level":"3.1.1","depth":2,"path":"9-AboutUs/9.1-company.md","ref":"9-AboutUs/9.1-company.md","articles":[]},{"title":"7.2 Contact us","level":"3.1.2","depth":2,"path":"9-AboutUs/9.2-contact.md","ref":"9-AboutUs/9.2-contact.md","articles":[]}]},"previous":{"title":"4 Basic Function Case","level":"2.1.3.4","depth":3,"path":"11-ApplicationBaseROS/11.2-ROS2/11.2.4-BasicFunction.md","ref":"11-ApplicationBaseROS/11.2-ROS2/11.2.4-BasicFunction.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{"themeFexa":{"showHome":false,"showNavigator":false}},"plugins":["chapter-fold","expandable-chapters","back-to-top-button","password-z","-lunr","-search","search-pro","theme-fexa","splitter","-sharing","klipse","livereload"],"pluginsConfig":{"chapter-fold":{},"livereload":{},"splitter":{},"search-pro":{},"password-z":{},"theme-fexa":{"search-placeholder":"Input Keywords to Search","logo":"/photo/logo.png","favicon":"./favicon.ico"},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"back-to-top-button":{},"klipse":{"myConfigKey":"it's the default value"},"password":{},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"expandable-chapters":{}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"7-ExamplesRobotsUsing/7-ExamplesRobotsUsing.md","mtime":"2024-05-14T08:47:38.172Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2024-05-23T01:57:43.466Z"},"basePath":"..","book":{"language":""}});
		});
	</script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-chapter-fold/chapter-fold.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-password-z/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-theme-fexa/fexa.js"></script>
        
    

    </body>
</html>

